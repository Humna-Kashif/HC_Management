{"ast":null,"code":"var _jsxFileName = \"/home/humna/Desktop/aibers_web/client/src/views/Components/HistoryTabPatient.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Moment from 'moment';\nimport HistoryPatientItem from \"./HistoryPatientItem\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport HistoryPatientDetail from \"./HistoryPatientDetail\";\nimport { getPatientCompletedAppoinmtmentHistoryAPI, getPatientCompletedAppoinmtmentProfileAPI } from \"../DB/API\";\n\nconst HistoryTabPatient = props => {\n  const data = props.Data;\n  const appointment_id = props.id;\n  console.log(\"Data from back side is \", data);\n  const doc_ID = props.id;\n  const [completedAppointments, setCompletedAppointments] = useState([]);\n  const [clickedItem, setClickedItem] = useState();\n  const [selectedHistory, setSelectedHistory] = useState(0);\n\n  const getPatientCompletedAppoinmtmentHistory = () => {\n    getPatientCompletedAppoinmtmentHistoryAPI(doc_ID, 0, data.patient_id, \"GET\").then(result => {\n      console.log(\"completed Appointments history tab\", result);\n      setCompletedAppointments(result);\n\n      if (result.length !== 0) {\n        handleCompletedAppointmentProfileItem(result[0]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getPatientCompletedAppoinmtmentHistory();\n  }, []);\n\n  const handleCompletedAppointmentProfileItem = item => {\n    console.log(\"appointmentclicked\", item.appointment_id);\n    setSelectedHistory(item.appointment_id);\n    getPatientCompletedAppoinmtmentProfileAPI(doc_ID, 0, data.patient_id, item.appointment_id).then(result => {\n      console.log(\"patient info api\", result);\n      setClickedItem(result[0]);\n    });\n  };\n\n  const renderHistoryList = () => {\n    return completedAppointments.map((item, i) => /*#__PURE__*/React.createElement(HistoryPatientItem, {\n      id: doc_ID,\n      key: i,\n      itemData: item,\n      selected: item.appointment_id === selectedHistory,\n      onClick: () => handleCompletedAppointmentProfileItem(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 51\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    style: {\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 5,\n    style: {\n      maxHeight: \"65vh\",\n      overflowY: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, renderHistoryList(), renderHistoryList()), /*#__PURE__*/React.createElement(Col, {\n    lg: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, !!clickedItem && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HistoryPatientDetail, {\n    itemData: clickedItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default HistoryTabPatient;\nHistoryTabPatient.defaultProps = {};\nconst styles = {};","map":{"version":3,"sources":["/home/humna/Desktop/aibers_web/client/src/views/Components/HistoryTabPatient.js"],"names":["React","useEffect","useState","Moment","HistoryPatientItem","Col","Container","Row","HistoryPatientDetail","getPatientCompletedAppoinmtmentHistoryAPI","getPatientCompletedAppoinmtmentProfileAPI","HistoryTabPatient","props","data","Data","appointment_id","id","console","log","doc_ID","completedAppointments","setCompletedAppointments","clickedItem","setClickedItem","selectedHistory","setSelectedHistory","getPatientCompletedAppoinmtmentHistory","patient_id","then","result","length","handleCompletedAppointmentProfileItem","item","renderHistoryList","map","i","paddingTop","maxHeight","overflowY","defaultProps","styles"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport Moment from 'moment';\nimport HistoryPatientItem from \"./HistoryPatientItem\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport HistoryPatientDetail from \"./HistoryPatientDetail\";\nimport {getPatientCompletedAppoinmtmentHistoryAPI,getPatientCompletedAppoinmtmentProfileAPI} from \"../DB/API\"\n\nconst HistoryTabPatient = (props) => {\n    const data = props.Data;\n    const appointment_id = props.id;\n    console.log(\"Data from back side is \",data);\n    const doc_ID = props.id;\n    const [completedAppointments , setCompletedAppointments] = useState([]);\n    const [clickedItem,setClickedItem] = useState();\n    const [selectedHistory, setSelectedHistory] = useState(0);\n\n\n\n    const getPatientCompletedAppoinmtmentHistory = () =>{\n        getPatientCompletedAppoinmtmentHistoryAPI(doc_ID,0,data.patient_id,\"GET\").then(result => {\n            console.log(\"completed Appointments history tab\",result);\n            setCompletedAppointments(result);\n            if (result.length !== 0) {\n            handleCompletedAppointmentProfileItem(result[0])\n        }\n        });\n    }\n\n    useEffect(() => {\n        getPatientCompletedAppoinmtmentHistory();\n    },[]);\n\n    const handleCompletedAppointmentProfileItem = (item) =>{\n        console.log(\"appointmentclicked\",item.appointment_id)\n        setSelectedHistory(item.appointment_id);\n        getPatientCompletedAppoinmtmentProfileAPI(doc_ID,0,data.patient_id,item.appointment_id)\n        .then(result => {\n            console.log(\"patient info api\",result);\n            setClickedItem(result[0]);\n        });\n        \n    }\n\n\n    const renderHistoryList = () => {\n        return(\n            completedAppointments.map((item,i)=>( <HistoryPatientItem id={doc_ID} key={i} itemData={item} selected={item.appointment_id===selectedHistory} onClick={()=>handleCompletedAppointmentProfileItem(item)}/>))\n        )\n    }\n\n    return (\n      <Container fluid style={{paddingTop: 10}}> \n      \n          <Row>\n            <Col lg={5} style={{maxHeight: \"65vh\", overflowY: \"auto\"}}>\n                    {/* You need to display a list here */}\n                    {renderHistoryList()}\n                    {renderHistoryList()}\n            </Col>\n            <Col lg={7}>\n                {!!clickedItem &&\n                    <div>\n                        <HistoryPatientDetail itemData={clickedItem}/>\n                    </div>\n                }\n                \n            </Col>\n          </Row>\n      </Container>\n    )\n}\n\nexport default HistoryTabPatient\n\nHistoryTabPatient.defaultProps = {\n    }\n\nconst styles = {\n}\n\n"]},"metadata":{},"sourceType":"module"}
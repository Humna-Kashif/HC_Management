{"ast":null,"code":"var _jsxFileName = \"/home/humna/Desktop/aibers_web/client/src/views/Screens/DoctorAppointmentsTab.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Col, Container, Tab, Tabs, Modal, Row, Button } from 'react-bootstrap';\nimport { useLocation } from \"react-router-dom\";\nimport CalenderSection from '../Components/CalenderSection';\nimport ActiveAppointment from './ActiveAppointment';\nimport { getPatientAppoinmtmentHistoryAPI } from \"../DB/API\";\nimport Calender from \"react-calendar\";\nimport { Avatar } from \"@material-ui/core\";\nimport { availableSlotsAPI } from \"../DB/API\";\nimport moment from \"moment\";\n\nconst DoctorAppointmentsTab = props => {\n  // const [tabKey, setTabKey] = useState('Appointment');\n  const [tabKey, setTabKey] = useState(3);\n  const doc_ID = useLocation().state.userId;\n  console.log(\"my doctor id is : \", doc_ID);\n  const [activePatients, setActivePatients] = useState([]);\n  const [showCloseModal, setCloseModal] = useState(false);\n  const [slots, setSlots] = useState([]);\n  const [timeSlot, setTimeSlot] = useState();\n  const [date, setDate] = useState(new Date());\n  const [showRescheduleModal, setRescheduleModal] = useState(false);\n  const [locationDays, setLocationDays] = useState([]);\n\n  function titleCase(str) {\n    return str.toLowerCase().split(' ').map(function (word) {\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    }).join(' ');\n  } //Patient appointment history\n\n\n  useEffect(() => {\n    MaintainActivePatients();\n  }, []);\n\n  const MaintainActivePatients = () => {\n    return getPatientAppoinmtmentHistoryAPI(doc_ID, 0, 0, 0, \"GET\").then(result => {\n      console.log(\"patient history api\", result);\n      setActivePatients(result);\n    });\n  }; // const [data,setData] = useState([]);\n  // const doc_ID = useLocation();\n  // // console.log(\"user id is \",doc_ID.state.userId)  \n  // const [oneTime,setOneTime]=useState(true);\n  // useEffect(() => {\n  //     const timer = setTimeout(() => {\n  //         oneTime && \n  //         GetDoctorAllInfoAPI(doc_ID.state.userId).then(result => {\n  //             console.log(\"new api\",result[0]);\n  //             setData(result[0]);\n  //         });\n  //         setOneTime(false);\n  //       }, 200);\n  //     return () => clearTimeout(timer);\n  // })\n  // const refreshCallBack=()=>{\n  //     // console.log(\"Call back\");\n  //     GetDoctorAllInfoAPI(doc_ID.state.userId).then(result => {\n  //         console.log(\"new api\",result[0]);\n  //         setData(result[0]);\n  //     });\n  // }\n\n\n  const callback = (status, appointment_id) => {\n    console.log(\"callback parent: \", appointment_id);\n    MaintainActivePatients().then(() => {\n      if (status === \"inprogress\") setTabKey(appointment_id);\n    });\n  };\n\n  const renderAppointmentDash = () => {\n    return (\n      /*#__PURE__*/\n      // Add your code for calender and list here\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CalenderSection, {\n        id: doc_ID,\n        callback: callback,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      }))\n    );\n  };\n\n  const renderPatientTab = () => {\n    return activePatients.map((item, i) => /*#__PURE__*/React.createElement(Tab, {\n      style: styles.tabContainer,\n      eventKey: item.appointment_id,\n      title: CustomTab(titleCase(item.patientinfo.name)),\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, renderPatientContent(item)));\n  };\n\n  const renderPatientContent = item => {\n    return /*#__PURE__*/React.createElement(ActiveAppointment, {\n      patientData: item,\n      id: doc_ID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    });\n  };\n\n  const handleModalClose = () => {\n    setCloseModal(false);\n    setRescheduleModal(false);\n  };\n\n  const handleCompleteAppointment = tabKey => {\n    console.log(\"Complete:\", tabKey);\n    setCloseModal(false);\n  };\n\n  const renderModal = tabKey => {\n    return /*#__PURE__*/React.createElement(Modal, {\n      show: showCloseModal,\n      onHide: handleModalClose,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      style: {\n        color: \"#e0004d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"Alert\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flex: \"1\",\n        paddingLeft: 40,\n        paddingBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, \"Do you want to complete \", tabKey, \" tab?\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => handleCompleteAppointment(tabKey),\n      style: {\n        marginLeft: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Complete Appointment\")));\n  };\n\n  const CustomTab = title => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, title), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 14,\n        width: 24,\n        paddingBottom: 2,\n        fontWeight: \"bold\"\n      },\n      onClick: e => {\n        console.log(\"hi home close\", title);\n        setCloseModal(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"x\"));\n  };\n\n  const [disabledDays, setDisabledDays] = useState([]);\n\n  const collectDisabledDays = (docData, index) => {\n    let a = [];\n    let d1 = docData;\n    console.log(\"d1,\", d1);\n    let d2 = d1.split(\"-\");\n    let days2 = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\n    let days = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\n\n    for (var k = 0; k < 7; k++) {\n      days = days.filter(item => item !== d2[k]);\n    }\n\n    console.log(\"doc data is \", days);\n\n    for (var j = 0; j < days.length; j++) {\n      for (var i = 0; i < days2.length; i++) {\n        if (days[j].toLowerCase() == days2[i].toLocaleLowerCase()) {\n          console.log(\"i is \", i);\n          a.push(i);\n        }\n      }\n    }\n\n    setDisabledDays(a);\n  };\n\n  const [locationData, setLocationData] = useState([]);\n  const [selectValue, setSelectedValue] = useState();\n\n  const handleChange1 = e => {\n    setSelectedValue(e.target.value);\n    console.log(\"days are \", e.target.days); // collectDisabledDays(getLocDays(e.target.value));\n  };\n\n  const availableSlots = (location_id, date) => {\n    const mydate = moment(date);\n    const newdate = mydate.format(\"YYYY-MM-DD\");\n    availableSlotsAPI(doc_ID, location_id, \"PUT\", newdate).then(result => {\n      console.log(\"available\", result);\n      setSlots(result[0].time_slots);\n    });\n  };\n\n  const onChange = date => {\n    setDate(date);\n    availableSlots(1, 20 - 1 - 2021); //collectDisabledDays(data.appointment_location.days,0);\n  };\n\n  const schduleAppointmentModal = () => {\n    return /*#__PURE__*/React.createElement(Modal, {\n      show: showRescheduleModal,\n      onHide: handleModalClose,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      style: {\n        color: \"#e0004d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }, \"Schedule Appointment\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flexDirection: \"row\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flex: \"1\",\n        paddingLeft: 40,\n        paddingBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      style: {\n        flexDirection: \"row\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flex: \"1\",\n        paddingLeft: 40,\n        paddingBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginRight: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 19\n      }\n    }, \"Select Location : \"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: selectValue,\n      onChange: handleChange1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 19\n      }\n    })))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Calender, {\n      minDate: new Date(),\n      maxDate: new Date(moment().add(3, \"months\")),\n      tileDisabled: ({\n        date,\n        view\n      }) => view === \"month\" && // Block day tiles only\n      disabledDays.some(disabledDay => //   date.getFullYear() === disabledDate.getFullYear() &&\n      //   date.getMonth() === disabledDate.getMonth() &&\n      date.getDay() === disabledDay),\n      onChange: onChange,\n      value: new Date(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"#e0004d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }, \"Available Slots\")))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\" // onClick={() => handleConfirmReschedule(data.appointment_id)}\n      ,\n      style: {\n        marginLeft: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }\n    }, \"Schedule\")));\n  };\n\n  const handleNewAppointmentModal = () => {\n    setRescheduleModal(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    style: {\n      width: \"100%\",\n      paddingTop: 0\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }\n  }), renderModal(tabKey), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    id: \"controlled-tab\",\n    activeKey: tabKey,\n    onSelect: k => setTabKey(k),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 100,\n      height: 100,\n      backgroundColor: \"lightblue\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 21\n    }\n  }, \"test\"), /*#__PURE__*/React.createElement(Tab, {\n    style: styles.tabContainer,\n    eventKey: \"Appointment\",\n    title: \"Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }, renderAppointmentDash()), renderPatientTab())), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleNewAppointmentModal();\n    },\n    style: {\n      width: 80,\n      height: 80,\n      backgroundColor: \"#e0004d\",\n      color: \"white\",\n      zIndex: 100,\n      position: \"fixed\",\n      bottom: 0,\n      right: 0,\n      margin: 50,\n      borderRadius: 40,\n      justifyContent: \"center\",\n      alignItems: \"baseline\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      boxShadow: \"0px 8px 16px #00000030\",\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontWeight: \"bolder\",\n      fontSize: 50,\n      padddingBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 21\n    }\n  }, \"+\")), schduleAppointmentModal());\n};\n\nexport default DoctorAppointmentsTab;\nconst styles = {\n  tabContainer: {\n    borderWidth: 1,\n    borderColor: \"lightgray\",\n    borderStyle: \"solid\",\n    background: \"white\",\n    padding: 0,\n    paddingBottom: 30,\n    borderTopWidth: 0\n  }\n};","map":{"version":3,"sources":["/home/humna/Desktop/aibers_web/client/src/views/Screens/DoctorAppointmentsTab.js"],"names":["React","useEffect","useState","Col","Container","Tab","Tabs","Modal","Row","Button","useLocation","CalenderSection","ActiveAppointment","getPatientAppoinmtmentHistoryAPI","Calender","Avatar","availableSlotsAPI","moment","DoctorAppointmentsTab","props","tabKey","setTabKey","doc_ID","state","userId","console","log","activePatients","setActivePatients","showCloseModal","setCloseModal","slots","setSlots","timeSlot","setTimeSlot","date","setDate","Date","showRescheduleModal","setRescheduleModal","locationDays","setLocationDays","titleCase","str","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","MaintainActivePatients","then","result","callback","status","appointment_id","renderAppointmentDash","renderPatientTab","item","i","styles","tabContainer","CustomTab","patientinfo","name","renderPatientContent","handleModalClose","handleCompleteAppointment","renderModal","color","flexDirection","display","alignItems","flex","paddingLeft","paddingBottom","marginLeft","title","fontSize","width","fontWeight","e","disabledDays","setDisabledDays","collectDisabledDays","docData","index","a","d1","d2","days2","days","k","filter","j","length","toLocaleLowerCase","push","locationData","setLocationData","selectValue","setSelectedValue","handleChange1","target","value","availableSlots","location_id","mydate","newdate","format","time_slots","onChange","schduleAppointmentModal","marginRight","add","view","some","disabledDay","getDay","handleNewAppointmentModal","paddingTop","height","backgroundColor","zIndex","position","bottom","right","margin","borderRadius","justifyContent","boxShadow","cursor","padddingBottom","borderWidth","borderColor","borderStyle","background","padding","borderTopWidth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from 'react'\nimport { Col, Container, Tab, Tabs, Modal, Row, Button } from 'react-bootstrap'\nimport { useLocation } from \"react-router-dom\";\nimport CalenderSection from '../Components/CalenderSection'\nimport ActiveAppointment from './ActiveAppointment';\nimport {getPatientAppoinmtmentHistoryAPI} from \"../DB/API\"\nimport Calender from \"react-calendar\";\nimport { Avatar } from \"@material-ui/core\";\nimport {\n  availableSlotsAPI\n} from \"../DB/API\";\nimport moment from \"moment\";\n\n\nconst DoctorAppointmentsTab = (props) => {\n\n    // const [tabKey, setTabKey] = useState('Appointment');\n    const [tabKey, setTabKey] = useState(3);\n    const doc_ID = useLocation().state.userId;\n    console.log(\"my doctor id is : \",doc_ID);\n    const [activePatients, setActivePatients] = useState([]);\n    const [showCloseModal, setCloseModal] = useState(false);\n    const [slots, setSlots] = useState([]);\n    const [timeSlot, setTimeSlot] = useState();\n    const [date, setDate] = useState(new Date());\n    const [showRescheduleModal, setRescheduleModal] = useState(false);\n    const [locationDays, setLocationDays] = useState([]);\n\n    function titleCase(str) {\n    return str.toLowerCase().split(' ').map(function(word) {\n        return (word.charAt(0).toUpperCase() + word.slice(1));\n    }).join(' ');\n    }\n\n    //Patient appointment history\n\n    \n    useEffect(() => { \n    MaintainActivePatients();\n    },[])\n\n    const MaintainActivePatients = () => {\n        return getPatientAppoinmtmentHistoryAPI(doc_ID,0,0,0,\"GET\")\n        .then(result => {\n            console.log(\"patient history api\",result);\n            setActivePatients(result);   \n        });\n    }\n\n    // const [data,setData] = useState([]);\n    // const doc_ID = useLocation();\n    // // console.log(\"user id is \",doc_ID.state.userId)  \n    // const [oneTime,setOneTime]=useState(true);\n    // useEffect(() => {\n    //     const timer = setTimeout(() => {\n    //         oneTime && \n    //         GetDoctorAllInfoAPI(doc_ID.state.userId).then(result => {\n    //             console.log(\"new api\",result[0]);\n    //             setData(result[0]);\n    //         });\n    //         setOneTime(false);\n    //       }, 200);\n    //     return () => clearTimeout(timer);\n    // })\n    \n    // const refreshCallBack=()=>{\n    //     // console.log(\"Call back\");\n    //     GetDoctorAllInfoAPI(doc_ID.state.userId).then(result => {\n    //         console.log(\"new api\",result[0]);\n    //         setData(result[0]);\n    //     });\n    // }\n    const callback = (status,appointment_id) => {\n        console.log(\"callback parent: \", appointment_id);\n        MaintainActivePatients().then( ()=>{\n            if(status === \"inprogress\")\n                setTabKey(appointment_id);\n        });\n    }\n\n    const renderAppointmentDash = () => {\n        return (\n            // Add your code for calender and list here\n            <div>\n                <CalenderSection id={doc_ID} callback={callback}/>\n            </div>\n        )\n    }\n\n    const renderPatientTab = () => {\n        return (\n            activePatients.map((item,i)=>(\n                <Tab style={styles.tabContainer} eventKey={item.appointment_id} title={CustomTab(titleCase(item.patientinfo.name))} key={i}>\n                    {renderPatientContent(item)}\n                </Tab>\n            ))\n        )\n    }\n\n    const renderPatientContent = (item) => {\n        return (\n            <ActiveAppointment patientData={item} id={doc_ID} />\n        )\n    }\n\n    const handleModalClose = () => {\n        setCloseModal(false);\n        setRescheduleModal(false);\n    }\n    \n    const handleCompleteAppointment = (tabKey) => {\n        console.log(\"Complete:\", tabKey)\n        setCloseModal(false)\n    }\n\n    const renderModal = (tabKey) => {\n        return (\n            <Modal\n                show={showCloseModal} \n                onHide={handleModalClose}  \n                size=\"lg\"\n                aria-labelledby=\"contained-modal-title\"\n                >\n                <Modal.Header closeButton>\n                <Modal.Title style={{color: \"#e0004d\"}}>Alert</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Row>\n                        <div style={{flexDirection: \"row\", display: \"flex\", alignItems: \"center\",flex:\"1\", paddingLeft: 40, paddingBottom: 20, }}>\n                            Do you want to complete {tabKey} tab?    \n                        </div>\n                    </Row>\n                    </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"primary\" onClick={() => handleCompleteAppointment(tabKey)} style={{marginLeft:\"10px\"}}>\n                        Complete Appointment\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        )\n    }\n\n    const CustomTab = (title)=> { \n        return (\n            <div style={{display: \"flex\", flexDirection: \"row\", alignItems: \"center\"}}>\n            <div>{title}</div>\n            <div \n                style={{fontSize:14, width:24, paddingBottom:2, fontWeight: \"bold\"}} \n                onClick={(e) => {console.log(\"hi home close\", title); setCloseModal(true)}}>x</div>\n            </div>\n        )\n    }\n    \n    const [disabledDays, setDisabledDays] = useState([]);\n\n  const collectDisabledDays = (docData, index) => {\n    let a = [];\n    let d1 = docData;\n    console.log(\"d1,\", d1);\n    let d2 = d1.split(\"-\");\n    let days2 = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\n    let days = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\n    for (var k = 0; k < 7; k++) {\n      days = days.filter((item) => item !== d2[k]);\n    }\n    console.log(\"doc data is \", days);\n\n    for (var j = 0; j < days.length; j++) {\n      for (var i = 0; i < days2.length; i++) {\n        if (days[j].toLowerCase() == days2[i].toLocaleLowerCase()) {\n          console.log(\"i is \", i);\n\n          a.push(i);\n        }\n      }\n    }\n    setDisabledDays(a);\n  };\n\n  const [locationData, setLocationData] = useState([]);\n  const [selectValue, setSelectedValue] = useState();\n\n  const handleChange1 = (e) => {\n    setSelectedValue(e.target.value);\n    console.log(\"days are \", e.target.days);\n    // collectDisabledDays(getLocDays(e.target.value));\n  };\n\n  const availableSlots = (location_id, date) => {\n    const mydate = moment(date);\n    const newdate = mydate.format(\"YYYY-MM-DD\");\n    availableSlotsAPI(doc_ID, location_id, \"PUT\", newdate).then((result) => {\n      console.log(\"available\", result);\n      setSlots(result[0].time_slots);\n    });\n  };\n\n  const onChange = (date) => {\n    setDate(date);\n    availableSlots(1, 20-1-2021);\n    //collectDisabledDays(data.appointment_location.days,0);\n  };\n\n  const schduleAppointmentModal = () =>{\n    return(\n      <Modal\n      show={showRescheduleModal}\n      onHide={handleModalClose}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title style={{ color: \"#e0004d\" }}>Schedule Appointment</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Row>\n          <div\n            style={{\n              flexDirection: \"row\",\n              display: \"flex\",\n              alignItems: \"center\",\n              flex: \"1\",\n              paddingLeft: 40,\n              paddingBottom: 20,\n            }}\n          ></div>\n        </Row>\n        <Row>\n          <Col\n            style={{\n              flexDirection: \"row\",\n              display: \"flex\",\n              alignItems: \"center\",\n              flex: \"1\",\n              paddingLeft: 40,\n              paddingBottom: 20,\n            }}\n          >\n            <Container>\n              <Row style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <div style={{ marginRight: 10 }}>\n                  {\" \"}\n                  <label>Select Location : </label>{\" \"}\n                </div>\n                <div>\n                  <select value={selectValue} onChange={handleChange1}>\n                    {/* {renderItem()} */}\n                  </select>\n                </div>\n              </Row>\n            </Container>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            {/* {console.log(\"privious date is \", data.date_time)} */}\n            <Calender\n              minDate={new Date()}\n              maxDate={new Date(moment().add(3, \"months\"))}\n              tileDisabled={({ date, view }) =>\n                view === \"month\" && // Block day tiles only\n                disabledDays.some(\n                  (disabledDay) =>\n                    //   date.getFullYear() === disabledDate.getFullYear() &&\n                    //   date.getMonth() === disabledDate.getMonth() &&\n                    date.getDay() === disabledDay\n                )\n              }\n              onChange={onChange}\n              value={new Date()}\n            />\n          </Col>\n          <Col>\n            <div style={{ color: \"#e0004d\" }}>Available Slots</div>\n            {/* {renderAvailableSlots()} */}\n          </Col>\n        </Row>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button\n          variant=\"primary\"\n          // onClick={() => handleConfirmReschedule(data.appointment_id)}\n          style={{ marginLeft: \"10px\" }}\n        >\n          Schedule\n        </Button>\n      </Modal.Footer>\n    </Modal>\n    )\n  } \n\n\n    const handleNewAppointmentModal = () => {\n      setRescheduleModal(true);      \n    }\n\n    return(\n        <div style={{width: \"100%\", paddingTop: 0}} {...props}>\n            {renderModal(tabKey)}\n            <Col>\n            <Tabs\n                id=\"controlled-tab\"\n                activeKey={tabKey}\n                onSelect={(k) => setTabKey(k)}\n                >\n                    <div style={{width:100, height:100, backgroundColor:\"lightblue\"}}>test</div>\n                <Tab \n                style={styles.tabContainer}\n                eventKey=\"Appointment\" \n                title={\"Home\"}>\n                    {renderAppointmentDash()}\n                </Tab>\n                {renderPatientTab()}\n            </Tabs>\n            </Col>\n            <div onClick={()=>{handleNewAppointmentModal()}}\n            style={{width:80, height:80, backgroundColor: \"#e0004d\", color: \"white\",\n            zIndex:100, position:\"fixed\", bottom: 0, right: 0, margin: 50, borderRadius: 40, justifyContent: \"center\", alignItems: \"baseline\", display:\"flex\", flexDirection: \"row\",\n            boxShadow: \"0px 8px 16px #00000030\", cursor: \"pointer\"\n                }}>\n                    <div style={{ fontWeight: \"bolder\", fontSize: 50, padddingBottom: 10}}>+</div></div>\n                    {schduleAppointmentModal()}\n        </div>\n    )\n}\n\nexport default DoctorAppointmentsTab\n\nconst styles = {\n    tabContainer : {borderWidth: 1, borderColor: \"lightgray\", borderStyle: \"solid\",background: \"white\", padding:0, paddingBottom: 30, borderTopWidth:0}\n}"]},"metadata":{},"sourceType":"module"}